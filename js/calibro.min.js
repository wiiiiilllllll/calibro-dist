function debounce(o,n,e){var t;return function(){var i=this,l=arguments,a=function(){t=null,e||o.apply(i,l)},c=e&&!t;clearTimeout(t),t=setTimeout(a,n),c&&o.apply(i,l)}}$(function(){$("a").each(function(){var o=new RegExp("/"+window.location.host+"/");o.test(this.href)||$(this).attr("target","_blank")})});var blocks={init:function(){$(".js-block").on("click",function(o){o.preventDefault(),blocks.open($(this))})},open:function(o){var n=o.find(".block__back").html();dialog.populate(n),setTimeout(function(){overlay.open()},100),setTimeout(function(){dialog.open()},200)},close:function(){$(".block--open").removeClass("block--open"),dialog.close(),overlay.close()}};$(function(){blocks.init()});var dialog={open:function(){$(".dialog").addClass("dialog--open"),$("body").addClass("body--frozen")},close:function(){$(".dialog").removeClass("dialog--open"),$("body").removeClass("body--frozen"),setTimeout(function(){$(".dialog__body").html("")},300)},populate:function(o){$(".dialog__body").html(o)}},drop={init:function(){$("body").on("click",function(o){drop.closeAll()}),$("body").on("click",".drop__link",function(o){o.preventDefault(),o.stopPropagation(),drop.toggle($(o.target).parent()),$(this).parents(".drop--open")})},open:function(o){o.addClass("drop--open")},close:function(o){$(o).removeClass("drop--open")},closeAll:function(){$(".drop--open").removeClass("drop--open")},toggle:function(o){$(o).toggleClass("drop--open")}};$(function(){drop.init()});var menu={isOpen:!1,init:function(){$(document).on("click",".menu",function(){menu.toggle()}),$(document).on("click",".overlay",function(){menu.isOpen&&menu.close()}),$(window).resize(function(){menu.watch()})},open:function(){$(".nav").addClass("nav--open");var o=$(".nav").height();$(".nav").css("bottom","-"+o+"px"),overlay.open(),menu.isOpen=!0,$(".header-container").addClass("isAboveOverlay")},close:function(){$(".nav").removeClass("nav--open").removeAttr("style"),overlay.close(),menu.isOpen=!1,setTimeout(function(){$(".header-container").removeClass("isAboveOverlay")},300)},toggle:function(){menu.isOpen?menu.close():menu.open()},watch:debounce(function(){$(window).width()>600&&menu.isOpen&&menu.close()},250)};$(function(){menu.init()});var overlay={init:function(){$(document).on("click",".overlay",function(){dialog.close(),overlay.close()})},open:function(){$(".overlay").addClass("overlay--open")},close:function(){$(".overlay").removeClass("overlay--open")},toggle:function(){$(".overlay").toggleClass("overlay--open")}};$(function(){overlay.init()});